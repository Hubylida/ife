webpackJsonp([1],{"/wTy":function(t,e,i){"use strict";var n=i("skhT"),o=i("Ji6t"),s=i("2DuQ");i.n(s);e.a={name:"Snake",render:function(){var t=this,e=arguments[0];return e("main",{class:"snake"},[e("section",[e("div",{class:"snake__container",ref:"container"},[e("transition",{attrs:{name:"fade"}},[e("div",{class:"snake__mode-wrapper",directives:[{name:"show",value:this.modeVisible}]},[e("div",{class:"snake__mode"},[this.modes.map(function(i){return e("button",{attrs:{type:"button"},on:{click:function(){return t.start(i.name)}}},[i.label])})])])])])]),e("section",{directives:[{name:"show",value:this.showInfo}],class:"snake__info"},[e("div",{class:"form-group"},[e("span",["分数:"]),e("span",[this.score])]),e("div",{class:"form-group"},[e("span",["速度:"]),e("span",[this.speed])])])])},data:function(){return{modes:[{name:"common",label:"普通模式"},{name:"level",label:"过关模式"},{name:"dodge",label:"躲避模式"}],mode:null,modeVisible:!0,score:null,speed:null}},computed:{showInfo:function(){return![this.speed,this.score].some(function(t){return!t&&0!==t})}},methods:{showModes:function(){this.modeVisible=!0},message:function(t,e){return Object(o.a)({title:"消息提醒",message:t,cb:e},this.$refs.container)},start:function(t){this.modeVisible&&(this.modeVisible=!1,this.mode=t,this.updateMode())},updateMode:function(t,e){switch(this.score=t||0,this.mode){case"common":this.updateCommonMode(t,e);break;case"level":this.updateLevelMode(t,e);break;case"dodge":this.updateDodgeMode(t,e)}},updateCommonMode:function(t,e){var i=this.$_snake;if(t){var n=1+10*Math.floor(t/10);this.speed=n}else i.prepareStart(),this.speed=1},updateLevelMode:function(){for(var t=[],e=0,i=0;i<5;i++)t.push({scroe:5*(i+1),speed:1+5*i});return function(i,n){var o=this,s=t[e],r=this.$_snake;if(!i)return void function(){r.prepareStart(),o.speed=t[0].speed}();i>=s.scroe&&(r.disable(),e>=t.length-1?this.message("厉害啊大兄弟，通关啦！",function(){o.showModes(),e=0}):this.message("下一关啦！",function(){var i=t[e+1];r.prepareStart(),o.speed=i.speed,e++}))}}(),updateDodgeMode:function(){for(var t=0,e=[],i=0;i<5;i++)e.push({scroe:5*(i+1),speed:1+5*i,walls:10*(i+1)});return function(i){var n=this,o=this.$_snake;if(!i)return void function(){o.prepareStart(),n.speed=e[0].speed,o.fillWall(e[0].walls),o.draw()}();i>=e[t].scroe&&(o.disable(),t>=e.length-1?this.message("牛逼啊大兄弟，通关啦！",function(){n.showModes(),t=0}):this.message("下一关啦！",function(){var i=e[t+1];o.prepareStart(),n.speed=i.speed,o.fillWall(i.walls),o.draw(),t++}))}}(),snedEndMessage:function(t){var e=this,i=t.message;this.message(i,function(){e.showModes()})}},mounted:function(){this.$_snake=new n.a(this.$refs.container,{scoreCallback:this.updateMode,endCallback:this.snedEndMessage})},watch:{speed:function(t){var e=this.$_snake;e&&e.speed!==t&&(e.speed=t)}}}},"2DuQ":function(t,e){},"7cOp":function(t,e,i){t.exports=i.p+"img/default.b8b85b3.jpg"},A7y6:function(t,e,i){"use strict";var n=i("Xxa5"),o=i.n(n),s=i("exGp"),r=i.n(s),a=i("BO1k"),h=i.n(a),c=i("woOf"),u=i.n(c),l=i("Zrlr"),d=i.n(l),f=i("wxAW"),p=i.n(f),v=i("DKtG"),m=function(){function t(e){var i=this;d()(this,t),this.dataset=[],this.more=!0,this.loading=!1,this.scrollEventSource=window,this.debounceCheckdataset=Object(v.a)(function(){return i.checkDataset()},100);var n={contentElement:null,scrollElement:document.documentElement,getDataset:null,noDataHtml:"",loadingHtml:"",threshold:400,autoDestroy:!0,render:function(t,e){return"<div>"+e+"</div>"}},o=["contentElement","getDataset"],s=!0,r=!1,a=void 0;try{for(var c,l=h()(o);!(s=(c=l.next()).done);s=!0){var f=c.value;if(!e[f])return void console.warn("Option: "+f+" can not be empty")}}catch(t){r=!0,a=t}finally{try{!s&&l.return&&l.return()}finally{if(r)throw a}}e.scrollElement&&(this.scrollEventSource=e.scrollElement),u()(n,e),this.op=n,this.init()}return p()(t,[{key:"shouldGetDataset",value:function(){var t=this.op,e=t.scrollElement,i=t.threshold,n=e.scrollHeight-e.scrollTop-e.clientHeight;return!this.loading&&this.more&&n<i}},{key:"checkDataset",value:function(){function t(){return e.apply(this,arguments)}var e=r()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.shouldGetDataset()){t.next=4;break}return t.next=3,this.fillMoreDataset();case 3:this.checkDataset();case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"fillMoreDataset",value:function(){function t(){return e.apply(this,arguments)}var e=r()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.op.getDataset(this.dataset.length);case 3:e=t.sent,this.loading=!1,e.dataset&&e.dataset.length&&(this.dataset=this.dataset.concat(e.dataset),this.more=e.more,!this.more&&this.op.autoDestroy&&this.destroy(),this.updateView());case 6:case"end":return t.stop()}},t,this)}));return t}()},{key:"updateView",value:function(){var t=this.op,e=t.render,i=t.contentElement,n=t.noDataHtml,o=t.loadingHtml,s=void 0;s=this.dataset.map(e).join(""),s||this.loading?this.more&&(s+=o):s=n,i.innerHTML=s}},{key:"destroy",value:function(){this.scrollEventSource.removeEventListener("scroll",this.debounceCheckdataset)}},{key:"init",value:function(){this.scrollEventSource.addEventListener("scroll",this.debounceCheckdataset),this.checkDataset(),this.updateView()}}]),t}();e.a=m},Apwk:function(t,e,i){"use strict";i.d(e,"a",function(){return p});var n=i("d7EF"),o=i.n(n),s=i("woOf"),r=i.n(s),a=i("Zrlr"),h=i.n(a),c=i("wxAW"),u=i.n(c),l=i("EIPd"),d=i("DKtG"),f=i("zOqJ"),p=(i.n(f),function(){function t(e,i){h()(this,t);var n={lineWidth:1,padding:10};Object(d.b)(e,i);i&&r()(n,i),this._options=n,this._canvas=e,this.init()}return u()(t,[{key:"init",value:function(){var t=this,e=this._canvas,i=e.getContext("2d"),n=this._options,o=n.width,s=n.height,r=n.lineWidth,a=n.padding,h=o-2*a,c=s-2*a;i.lineWidth=r,this._ctx=i,this._contentWidth=h,this._contentHeight=c,this.initBackground(),Object(l.a)(e,function(e){var i=e.x,n=e.y;t.setCoordinate(i,n)})}},{key:"initBackground",value:function(){var t=this._ctx,e=(this._color,this._options),i=e.padding,n=e.width,o=e.height,s=t.createLinearGradient(n/2,o-i,n/2,i),r=t.createLinearGradient(i,o/2,n-i,o/2);r.addColorStop(0,"#fff"),r.addColorStop(1,"rgba(0,0,0,0)"),s.addColorStop(0,"#000"),s.addColorStop(1,"rgba(0,0,0,0)"),this._whiteGradient=r,this._blackGradient=s}},{key:"fillColor",value:function(){var t=this._ctx,e=this._contentWidth,i=this._contentHeight,n=this._hue,o=this._options.padding;n&&(t.save(),t.fillStyle=n,t.fillRect(o,o,e,i),t.restore(),[this._whiteGradient,this._blackGradient].forEach(function(n){t.fillStyle=n,t.fillRect(o,o,e,i),t.restore()}))}},{key:"setCoordinate",value:function(t,e){var i=this._options.padding,n=this._contentHeight,o=this._contentWidth,s=void 0,r=void 0;if(s=t<i?i:t>o+i?o+i:t,r=e<i?i:e>n+i?n+i:e,this._x=s,this._y=r,this._options.onColorChange){var a={h:this.color.h,s:(s-i)/o,v:1-(r-i)/n};this._color=a,this._options.onColorChange(a)}this.draw()}},{key:"renderPointer",value:function(){var t=this._options.padding,e=this._x,i=this._y;if(void 0!==e&&void 0!==i){var n=this._ctx;n.save(),n.strokeStyle="#000",n.beginPath(),n.arc(e,i,t/2,0,2*Math.PI),n.stroke(),n.restore(),n.strokeStyle="#fff",n.beginPath(),n.arc(e,i,t/2-this._options.lineWidth,0,2*Math.PI),n.stroke(),n.restore()}}},{key:"updateHue",value:function(){var t=this._color&&this._color.h;if("number"==typeof t){var e=f.hsv.rgb(t,100,100),i=o()(e,3),n=i[0],s=i[1],r=i[2];this._hue="rgb("+n+","+s+","+r+")"}}},{key:"updateCoordinate",value:function(){var t=this._contentWidth,e=this._contentHeight,i=this._options;this._x=this._color.s*t+i.padding,this._y=(1-this.color.v)*e+i.padding}},{key:"draw",value:function(){var t=this._ctx,e=(this._x,this._y,this._options),i=e.width,n=e.height;t.clearRect(0,0,i,n),this.fillColor(),this.renderPointer()}},{key:"color",set:function(t){var e=this,i=["h","s","v"],n=r()({},this._color,t),o={h:n.h,s:n.s,v:n.v};this._color&&i.every(function(t){return o[t]===e._color[t]})||(this._color=o,this.updateHue(),this.updateCoordinate(),this.draw())},get:function(){return this._color}}]),t}())},BcO5:function(t,e,i){"use strict";var n=i("d7EF"),o=i.n(n),s=i("woOf"),r=i.n(s),a=i("Zrlr"),h=i.n(a),c=i("wxAW"),u=i.n(c),l=i("DKtG"),d=function(){function t(e,i){var n=this;h()(this,t),this._offset=0,this._alarms=[],this.draw=function(){var t=n.getCurrentTime(),e=n._ctx,i=n._options,o=i.width,s=i.height,r=i.color,a=i.radius,h={x:o/2,y:s/2},c=.08*a,u=a-c/2;e.clearRect(0,0,o,s),e.save(),e.strokeStyle=r,e.lineWidth=c,e.beginPath(),e.arc(h.x,h.y,u,0,2*Math.PI),e.stroke(),e.restore(),e.save();var l=c+.02*a;e.fillStyle=r,e.translate(a,a);for(var d=0;d<60;d++){var f=d%5==0?a/35:a/70,p=.1*a,v=-f/2,m=l-a;e.beginPath(),e.rect(v,m,f,p),e.fill(),e.rotate(2*Math.PI/60)}e.restore(),e.save();var g=a-.31*a,_=.18*a;e.fillStyle=r,e.font=_+"px sans-serif",e.textAlign="center",e.textBaseline="middle";for(var y=1;y<=12;y++){var w=2*Math.PI*y/12,b=n.getCoordinate(g,w),k=b.x,x=b.y;e.fillText(y.toString(),k,x)}e.font=.6*_+"px sans-serif",e.fillText(t.hour<12?"A.M":"P.M",h.x,.3*s),e.restore(),e.save();var C=[{topY:-.72,bottomY:.24,degree:t.secondDegree,bottomWidth:.02,topWidth:.01},{topY:-.6,bottomY:.18,degree:t.minuteDegree,bottomWidth:.06,topWidth:.03},{topY:-.4,bottomY:.13,degree:t.hourDegree,bottomWidth:.045,topWidth:.02}],S=Math.tan(2*Math.PI*60/360),D=Math.tan(2*Math.PI*30/360);e.fillStyle=r,C.forEach(function(t){var i=a*t.bottomY,n=a*t.bottomWidth/2,o=n/S,s=a*t.topY,r=a*t.topWidth/2,h=r/D;e.translate(a,a),e.rotate(t.degree),e.beginPath(),e.moveTo(0,i),e.lineTo(-n,i-o),e.lineTo(-r,s+h),e.lineTo(0,s),e.lineTo(r,s+h),e.lineTo(n,i-o),e.lineTo(0,i),e.fill(),e.setTransform(1,0,0,1,0,0)}),e.restore(),e.save(),e.fillStyle="#ffffff",e.beginPath(),e.arc(h.x,h.y,.02*a,0,2*Math.PI),e.fill(),e.restore(),n.checkAlarms(t.date),window.requestAnimationFrame(n.draw)};var o={color:"#9b9b9b"},s=Object(l.b)(e,i,{width:300,height:300}),a=s.canvas;this._ctx=a.getContext("2d"),r()(o,i,{width:s.width,height:s.height});var c=Math.min(o.width,o.height)/2;(!o.radius||o.radius>c||o.radius<=1)&&(o.radius=c),this._options=o,window.requestAnimationFrame(this.draw)}return u()(t,[{key:"getCoordinate",value:function(t,e){var i=this._options.radius;return{x:i+t*Math.sin(e),y:i-t*Math.cos(e)}}},{key:"getCurrentTime",value:function(){var t=new Date,e="number"==typeof this._offset?new Date(t.getTime()+this._offset):t,i=[e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()],n=i[0],s=i[1],r=i[2],a=i[3],h=r+a/1e3,c=s+h/60,u=n+c/60,l=[u/12,c/60,h/60].map(function(t){return 2*t*Math.PI}),d=o()(l,3);return{date:e,hourDegree:d[0],minuteDegree:d[1],secondDegree:d[2],hour:n,minute:s,second:r}}},{key:"checkAlarms",value:function(t){var e=this._alarms;if(e&&e.length)for(var i=0;i<e.length;i++){var n=e[i];Math.abs(t.getTime()-n.time.getTime())<500&&(n.repeat||(this._alarms.splice(i,i+1),i--),n.cb())}}},{key:"addAlarm",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._alarms||(this._alarms=[]),this._alarms.push({time:t,cb:e,repeat:i})}},{key:"clearAlarms",value:function(){this._alarms=[]}},{key:"offset",set:function(t){this._offset=t},get:function(){return this._offset}},{key:"alarms",get:function(){return this._alarms}}]),t}();e.a=d},"Bi/j":function(t,e,i){"use strict";function n(t){var e=[],i=window.innerWidth,n=window.innerHeight,o=.04*i,s=.06*n,r=.01*i,a=.01*i,h=function(t,e){var i=t.el,o=e.el,h=e.top+o.offsetHeight+r;h+i.offsetHeight>n?t.setPosition(s,e.right+o.offsetWidth+a):t.setPosition(h,e.right)};return function(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.delay,r=new l(i);e.length>0?h(r,e[e.length-1]):r.setPosition(s,o),e.push(r),r.show(),setTimeout(function(){if(r.hide(),e.splice(0,1),e.length>0&&(e[0].setPosition(s,o),e.length>1))for(var t=1,i=e.length;t<i;t++)h(e[t],e[t-1])},n)}}e.a=n;var o=i("woOf"),s=i.n(o),r=i("Zrlr"),a=i.n(r),h=i("wxAW"),c=i.n(h),u=i("ZN6m"),l=(i.n(u),function(){function t(e){var i=this;a()(this,t),this.show=function(){i._el.classList.add("show")},this.hide=function(){i._el.classList.remove("show"),i._el.classList.add("hide"),setTimeout(function(){document.body.removeChild(i._el)},300)},this._message=e,this.init()}return c()(t,[{key:"init",value:function(){var t=document.createElement("div");t.classList.add("toast"),t.innerHTML=this._message,document.body.appendChild(t),this._el=t}},{key:"setPosition",value:function(t,e){var i=this.el;this.top=t,this.right=e,s()(i.style,{top:t+"px",right:e+"px"})}},{key:"el",get:function(){return this._el}}]),t}())},DKtG:function(t,e,i){"use strict";i.d(e,"c",function(){return a}),i.d(e,"b",function(){return h});var n=i("d7EF"),o=i.n(n),s=i("Bi/j"),r=i("lnC8");i.d(e,"a",function(){return r.a});var a=Object(s.a)({delay:5e3}),h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t||!t.tagName)return void console.warn("Invaid element");var n=["width","height"].map(function(n){return"number"==typeof e[n]?e[n]:+t.getAttribute(n)||i[n]||+t["offset"+n.charAt(0).toUpperCase()+n.slice(1)]||0}),s=o()(n,2),r=s[0],a=s[1],h=void 0;return"CANVAS"===t.tagName?h=t:(h=document.createElement("canvas"),t.appendChild(h)),h.setAttribute("width",r),h.setAttribute("height",a),{canvas:h,width:r,height:a}}},EIPd:function(t,e,i){"use strict";i.d(e,"a",function(){return c}),i.d(e,"b",function(){return u});var n=i("woOf"),o=i.n(n),s=i("ifoU"),r=i.n(s),a=new r.a,h=0,c=function(t,e){var i={move:function(i){var n=i.target;if(t===n){var s={};if(i.touches){var r=t.getBoundingClientRect(),a=i.touches[0];o()(s,{x:a.pageX-r.left,y:a.pageY-r.top})}else o()(s,{x:i.offsetX,y:i.offsetY});e(s)}},start:function(t){t.preventDefault(),document.addEventListener("mousemove",i.move),document.addEventListener("touchmove",i.move)},end:function(){document.removeEventListener("mousemove",i.move),document.removeEventListener("touchmove",i.move)},bind:function(){t.addEventListener("mousedown",i.start),t.addEventListener("touchstart",i.start),document.addEventListener("mouseup",i.end),document.addEventListener("touchend",i.end)},unbind:function(){i.end(),t.removeEventListener("mousedown",i.start),t.removeEventListener("touchstart",i.start),document.removeEventListener("mouseup",i.end),document.removeEventListener("touchend",i.end)}};return i.bind(),h++,a.set(h,i),h},u=function(t){var e=a.get(t);e&&(e.unbind(),a.delete(t))}},ERc4:function(t,e,i){"use strict";var n=i("BO1k"),o=i.n(n),s=i("woOf"),r=i.n(s),a=i("MICi"),h=i.n(a),c=i("opwO"),u=i("tfLI");i.n(u);e.a={name:"ColorPicker",data:function(){return{color:{r:null,g:null,b:null,h:null,s:null,l:null,hex:""}}},render:function(){var t=this,e=arguments[0];return e("div",{class:"color-picker"},[e("section",{class:"picker-wrapper"},[e("div",{attrs:{id:"picker"},ref:"picker"})]),e("section",[e("form",{on:{submit:function(t){t.preventDefault()}}},[e("div",{class:"row"},[["r","g","b"].map(function(i){return e("div",{class:"form-group"},[e("label",{attrs:{for:i}},[i.toUpperCase(),":"]),e("input",{attrs:{type:"number",max:"255",min:"0",step:"1"},domProps:{value:t.color[i]},on:{input:function(e){return t.updateInput(e,i)}}})])})]),e("div",{class:"row"},[["h","s","l"].map(function(i){return e("div",{class:"form-group"},[e("label",{attrs:{for:i}},[i.toUpperCase(),":"]),e("input",{attrs:{type:"number",max:"1",min:"0",step:"0.05"},domProps:{value:t.color[i]},on:{input:function(e){return t.updateInput(e,i)}}})])})]),e("div",{class:"row"},[e("div",{class:"form-group"},[e("label",{attrs:{for:"hex"}},["#"]),e("input",{domProps:{value:this.color.hex.toUpperCase()},attrs:{type:"text"},on:{input:this.updateColorByHEX}})])])])]),e("section",[e("div",{class:"color-picker__preview",style:{backgroundColor:"#"+this.color.hex}})])])},methods:{updateInput:function(t,e){var i=t.target,n=Number(i.value),o=Number(i.getAttribute("max")),s=Number(i.getAttribute("min")),a=n;h()(n)&&(a=s),a>o&&(a=o),a<s&&(a=s);var c=r()({},this.color);switch(c[e]=a,e){case"r":case"g":case"b":this.updateColorByRGB(c);break;case"h":case"s":case"l":this.updateColorByHSL(c)}},updateColorByRGB:function(t){var e=t.r,i=t.g,n=t.b;[e,i,n].some(function(t){return"number"!=typeof t})||(this.$_picker.color={r:e,g:i,b:n})},updateColorByHSL:function(t){var e=t.h,i=t.s,n=t.l;[e,i,n].some(function(t){return"number"!=typeof t})||(this.$_picker.color={h:e,s:i,l:n})},updateColorByHEX:function(t){var e=t.target.value;if(6===e.length){var i=!0,n=!1,s=void 0;try{for(var r,a=o()(e);!(i=(r=a.next()).done);i=!0){var c=r.value,u=parseInt(c,16);if(h()(u)||u>15)return}}catch(t){n=!0,s=t}finally{try{!i&&a.return&&a.return()}finally{if(n)throw s}}this.$_picker.color={hex:e}}}},mounted:function(){var t=this;this.$_picker=new c.a(this.$refs.picker,{onColorChange:function(e){r()(t.color,e)}})}}},EpNZ:function(t,e){},G2oq:function(t,e,i){"use strict";e.a={name:"NotFound",render:function(){return(0,arguments[0])("p",["404 Not Found."])}}},Ji6t:function(t,e,i){"use strict";var n=i("Dd8w"),o=i.n(n),s=i("nvbp"),r=i.n(s),a=i("7+uW"),h=i("bQEd"),c=(i.n(h),a.a.extend({data:function(){return{message:"",title:"",cb:null,visible:!1}},render:function(){var t=arguments[0],e=this.cb,i=e?{click:e}:{};return t("transition",{attrs:{name:"fade"},on:{"after-leave":this.doDestroy}},[t("div",{class:"message__wrapper",directives:[{name:"show",value:this.visible}]},[t("div",{class:"message__mask"}),t("div",{class:"message"},[t("header",{class:"message__header"},[this.title]),t("div",{class:"message__content"},[this.message]),t("footer",{class:"message__footer"},[t("button",r()([{attrs:{type:"button"}},{on:i}]),["确定"])])])])])},methods:{doDestroy:function(){this.$destroy(),this.$el.parentNode.removeChild(this.$el)}}}));e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,i=new c({data:function(){return o()({},t,{cb:function(){t.cb&&t.cb(),i.visible=!1}})}});i.$mount(),e.appendChild(i.$el),i.visible=!0}},KLe5:function(t,e,i){"use strict";i.d(e,"a",function(){return s}),i.d(e,"b",function(){return r});var n=!!window.localStorage,o="DING_MENU_VISIBLE",s=function(){if(!n)return!0;var t=localStorage.getItem(o);try{return JSON.parse(t)}catch(t){return!0}},r=function(t){n&&localStorage.setItem(o,t)}},MQob:function(t,e,i){"use strict";var n=i("Zrlr"),o=i.n(n),s=i("wxAW"),r=i.n(s),a=function(){function t(e){o()(this,t),this._spend=0,this._complete=!1;var i=e.x,n=e.y;this._init={x:i,y:n},this._current={x:i,y:n},this._options=e}return r()(t,[{key:"to",value:function(t,e){return this._next=t,this._time=e,this}},{key:"start",value:function(){return this._prevTime=Date.now(),this.update(),this}},{key:"update",value:function(){var t=Date.now();if(this._spend=this._spend+(t-this._prevTime),this._spend>=this._time)return void(this._complete=!0);this._prevTime=t;var e=this._spend/this._time;this._current={x:this._init.x+(this._next.x-this._init.x)*e,y:this._init.y+(this._next.y-this._init.y)*e},this._options.onUpdate(this._current)}},{key:"complete",get:function(){return this._complete}}]),t}();e.a=a},"QSz+":function(t,e,i){"use strict";i.d(e,"a",function(){return p});var n=i("d7EF"),o=i.n(n),s=i("woOf"),r=i.n(s),a=i("Zrlr"),h=i.n(a),c=i("wxAW"),u=i.n(c),l=i("EIPd"),d=i("DKtG"),f=i("zOqJ"),p=(i.n(f),function(){function t(e,i){h()(this,t);var n={lineWidth:1,padding:10};Object(d.b)(e,i);i&&r()(n,i),this._options=n,this._canvas=e,this.init()}return u()(t,[{key:"init",value:function(){for(var t=this,e=this._options,i=e.padding,n=e.width,s=e.height,r=this._canvas,a=r.getContext("2d"),h=a.createLinearGradient(i,i,i,s-2*i),c=0;c<=6;c++){var u=c/6,d=f.hsv.rgb(360*u,100,100),p=o()(d,3),v=p[0],m=p[1],g=p[2];h.addColorStop(c/6,"rgb("+v+","+m+","+g+")")}this._contentWidth=n-2*i,this._contentHeight=s-2*i,this._gradient=h,this._ctx=a,a.lineWidth=this._options.lineWidth,this._id=Object(l.a)(r,function(e){t.setCoordinate(e.y)})}},{key:"fillBackground",value:function(){var t=this._gradient,e=this._ctx,i=this._options,n=i.padding;i.width,i.height;e.fillStyle=t,e.fillRect(n,n,this._contentWidth,this._contentHeight)}},{key:"setCoordinate",value:function(t){var e=this._options,i=e.padding,n=e.height,o=void 0;if(o=t<i?i:t>n-i?n-i:t,this._y!==o){if(this._y=o,this._options.onColorChange){var s=(o-i)/this._contentHeight,r=Math.floor(360*s),a={h:r};this._color=a,this._options.onColorChange(a)}this.draw()}}},{key:"renderSlider",value:function(){if("number"==typeof this._y){var t=this._options,e=t.padding,i=t.width,n=(t.height,t.lineWidth),o=this._y,s=i,r=e/2,a=this._ctx;a.save(),a.strokeStyle="#000",a.strokeRect(0,o-r/2,s,r),a.strokeStyle="#fff",a.strokeRect(n,o-r/2+n,s-2*n,r-2*n),a.stroke(),a.restore()}}},{key:"draw",value:function(){var t=this._options,e=t.width,i=t.height;this._ctx.clearRect(0,0,e,i),this.fillBackground(),this.renderSlider()}},{key:"destroy",value:function(){Object(l.b)(this._id)}},{key:"color",set:function(t){if(!this._color||t.h!==this._color.h){var e=this._options.padding,i=t.h/360,n=this._contentHeight*i+e;this.setCoordinate(n)}},get:function(){return this._color}}]),t}())},ZN6m:function(t,e){},bQEd:function(t,e){},fFCS:function(t,e){},gC63:function(t,e,i){"use strict";var n=i("MICi"),o=i.n(n),s=i("iUmz"),r=i("DKtG"),a=i("7cOp"),h=(i.n(a),i("fFCS")),c=(i.n(h),document.createElement("a")),u=0;e.a={name:"Cropper",render:function(t){var e=this;return t("div",{class:"cropper"},[t("section",[t("form",[t("div",{class:"form-group"},[t("input",{attrs:{placeholder:"宽",type:"number",min:"0",max:this.containerSize.width,name:"width"},domProps:{value:this.cropperSize.width},on:{input:function(t){e.updateSize(t,"width")}}}),t("input",{attrs:{placeholder:"高",type:"number",min:"0",max:this.containerSize.height,name:"height"},domProps:{value:this.cropperSize.height},on:{input:function(t){e.updateSize(t,"height")}}})]),t("div",{class:"form-group"},[t("button",{attrs:{type:"button"},on:{click:this.setCropper}},["修改大小"]),t("button",{attrs:{type:"button"},on:{click:this.doCrop}},["裁剪"])]),t("div",{class:"form-group"},[t("label",{attrs:{for:"file",id:"pick-file"},class:"cropper__pick"},[this.pickText]),t("input",{attrs:{type:"file",id:"file",accept:"image/jpeg,image/x-icon,image/png"},on:{change:this.uploadImg}})])])]),t("section",[t("div",{ref:"container",class:"cropper__container"})]),t("section",[t("div",{class:"cropper__preview",ref:"preview"})])])},data:function(){return{containerSize:{width:700,height:450},cropperSize:{width:"",height:""},pickText:"点击选择要裁剪的图片"}},methods:{updateSize:function(t,e){var i=this.cropperSize,n=this.containerSize,s=Number(t.target.value),r=s;o()(s)?r=0:s>n[e]?r=n[e]:s<0&&(r=0),i[e]=r,t.target.value=r},uploadImg:function(t){var e=t.target;if(e.value&&!(e.files.length<1)){var i=e.files[0];i.type.match(/^image\/.+/)?(this.$_cropper.setImage(i),this.pickText=i.name):Object(r.c)("请选择正确的图片")}},setCropper:function(){if(this.$_cropper){var t=this.cropperSize,e=t.width,i=t.height;if([e,i].some(function(t){return[function(t){return!!t},function(t){return t>0}].some(function(e){return!e(t)})}))return void Object(r.c)("请输入正确的宽高!");this.$_cropper.setCropper(e,i)}},doCrop:function(){try{var t=this.$_cropper.crop();c.href=t.toDataURL(),c.download="dingjs-cropper-"+ ++u+".png",c.click(),Object(r.c)("我就不假装上传了!")}catch(t){console.error(t),Object(r.c)('不支持HTML5,建议使用<a href="https://www.google.com/chrome/">「Chrome浏览器」浏览本页面!</a>')}},setDefault:function(){var t=this,e=new Image;e.src=a,e.onload=function(){t.$_cropper.setImage(e)}}},mounted:function(){var t=this.containerSize,e=t.width,i=t.height;this.$_cropper=new s.a(this.$refs.container,{preview:[{container:this.$refs.preview,scale:1}],width:e,height:i}),this.setDefault()}}},gtjp:function(t,e){},iUeW:function(t,e,i){"use strict";var n=i("DKtG"),o=i("KLe5"),s=i("gtjp");i.n(s);e.a={name:"App",data:function(){return{menus:[{label:"动画时钟",name:"Clock"},{label:"颜色选择器",name:"ColorPicker"},{label:"图片裁剪器",name:"Cropper"},{label:"无限滚动列表",name:"InfiniteScroll"},{label:"贪食蛇",name:"Snake"}],menusVisible:window.innerWidth>767||Object(o.a)(),style:{}}},computed:{expanIcon:function(){return this.menusVisible?'\n          <path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z" />\n          <path d="M0 0h24v24H0z" fill="none" />\n        ':'\n          <path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z" />\n          <path d="M0 0h24v24H0z" fill="none" />\n        '}},render:function(){var t=arguments[0];return t("div",{attrs:{id:"app"}},[t("header",{class:"page-header"},[t("h1",{class:"logo"},[t("router-link",{attrs:{to:"/"}},["ding-js | ife"])]),t("ul",{class:"menu-list",style:this.menusVisible?{}:{display:"none"}},[this.menus.map(function(e){return t("router-link",{key:e.name,attrs:{to:{name:e.name},tag:"li"}},[t("a",[e.label])])}),t("li",[t("a",{attrs:{href:"https://github.com/ding-js/ife/tree/master/src/containers/"+this.$route.name,target:"_blank"}},["查看源码"])])]),t("div",{class:"menu-btn-wrapper"},[t("svg",{on:{click:this.expandToggle},attrs:{fill:"#666",height:"36",viewBox:"0 0 24 24",width:"36",xmlns:"http://www.w3.org/2000/svg"},domProps:{innerHTML:this.expanIcon}})])]),t("div",{class:"page-body"},[t("div",{class:"content",style:this.style,ref:"content"},[t("router-view")])])])},created:function(){var t=location.href;if(/\.html$/.test(t)){var e=t.match(/([^\/]+)\.html$/),i=e&&e[1],n={colorpicker:"ColorPicker",clock:"Clock",cropper:"Cropper","infinite-scroll":"InfiniteScroll",snake:"Snake"};i&&n[i]&&this.$router.replace({name:n[i]})}},mounted:function(){var t=this;this.$_resizedUpdateContentHeight=Object(n.a)(function(){t.updateContentHeight(),window.innerWidth>767&&(t.menusVisible=!0)},100),this.updateContentHeight(),window.addEventListener("resize",this.$_resizedUpdateContentHeight)},beforeDestroy:function(){window.removeEventListener("resize",this.$_resizedUpdateContentHeight)},methods:{updateContentHeight:function(){var t=this.$refs.content;t&&(this.style={minHeight:window.innerHeight-t.offsetTop-24+"px"})},expandToggle:function(){this.menusVisible=!this.menusVisible}},watch:{menusVisible:function(t){this.$nextTick(this.updateContentHeight),Object(o.b)(t)}}}},iUmz:function(t,e,i){"use strict";i.d(e,"a",function(){return f});var n,o=i("bOdI"),s=i.n(o),r=i("woOf"),a=i.n(r),h=i("Zrlr"),c=i.n(h),u=i("wxAW"),l=i.n(u),d=i("DKtG");!function(t){t[t.cropper=0]="cropper",t[t.image=1]="image",t[t.pointRD=2]="pointRD",t[t.background=3]="background"}(n||(n={}));var f=function(){function t(e,i){var o,r=this;c()(this,t),this._image={},this._cropper={},this._scale=1,this._hasPreview=!1,this._previewList=[],this._lineWidth=1,this._pointWidth=8,this._pointHeight=8,this.handlePointMove=function(t){var e=[t.offsetX,t.offsetY],i=e[0],n=e[1],o=i-r._cropper.x-r._xOffset+r._pointWidth/2,s=n-r._cropper.y-r._yOffset+r._pointHeight/2;o<=0||s<=0||r.setCropper(o,s,!1)},this.handleImageMove=function(t){var e=[t.offsetX,t.offsetY],i=e[0],n=e[1],o=[r._xOffset,r._yOffset],s=o[0],a=o[1];r._image.x=i-s,r._image.y=n-a},this.handleCropperMove=function(t){var e=[t.offsetX,t.offsetY],i=e[0],n=e[1],o=[r._xOffset,r._yOffset,r._cropper.width,r._cropper.height,r._width,r._height],s=o[0],a=o[1],h=o[2],c=o[3],u=o[4],l=o[5],d=i-s,f=n-a;i<s&&(d=0),i>u-h+s&&(d=u-h),n<a&&(f=0),n>l-c+a&&(f=l-c),r._cropper.x=d,r._cropper.y=f},this.preview=function(){if(r._image.element&&r._hasPreview){var t=r.getCropperData();t&&(r._previewScaleCtx.clearRect(0,0,r._cropper.width,r._cropper.height),r._previewScaleCtx.putImageData(t.imageData,t.offsetX,t.offsetY),r._previewList.forEach(function(e){var i=e.ctx,n=e.canvas;i.clearRect(0,0,n.width,n.height),1!==e.scale?(i.scale(e.scale,e.scale),i.drawImage(r._previewScaleCanvas,0,0),i.setTransform(1,0,0,1,0,0)):i.putImageData(t.imageData,t.offsetX,t.offsetY)}))}};var h={width:+e.offsetWidth,height:+e.offsetHeight};a()(h,i),this._container=e,this._options=h,this._width=h.width,this._height=h.height,this._types=(o={},s()(o,n.cropper,{cursor:"all-scroll",handle:this.handleCropperMove}),s()(o,n.image,{cursor:"default",handle:this.handleImageMove}),s()(o,n.pointRD,{cursor:"nwse-resize",handle:this.handlePointMove}),s()(o,n.background,{cursor:"default"}),o);try{this.init()}catch(t){d.c("不支持canvas"),console.error(t)}}return l()(t,[{key:"init",value:function(){var t=this,e=this._container,i=document.createElement("canvas"),o=i.getContext("2d"),s=this._options;a()(i,{width:this._width,height:this._height}),this._ctx=o,this._canvas=i,e.appendChild(i),s.preview&&Array.isArray(s.preview)&&s.preview.length>0&&(s.preview.forEach(function(e){var i=document.createElement("canvas"),n=i.getContext("2d"),o=+e.scale;e.container.appendChild(i);var s={canvas:i,ctx:n,scale:o>0?o:1};t._previewList.push(s)}),this._previewScaleCanvas=document.createElement("canvas"),this._previewScaleCtx=this._previewScaleCanvas.getContext("2d"),this._hasPreview=!0),i.addEventListener("mousewheel",function(e){var i=t._image;if(e.preventDefault(),i.element){var n=i.element.width,o=i.element.height,s=void 0,r=t._scale,a=e.deltaY/800;s=a>0?1/(1+a):1+Math.abs(a),s*=r,t._scale=s,n*=s,o*=s,i.x+=(i.width-n)/2,i.y+=(i.height-o)/2,i.width=n,i.height=o,t.draw()}}),i.addEventListener("mousedown",function(e){if(1===e.which){var i=t.getTypeInfo(e);i.type===n.background?t._moving=!1:(t._currentType=i.type,t._xOffset=i.offsetX,t._yOffset=i.offsetY,t._moving=!0)}}),window.addEventListener("mouseup",function(e){1===e.which&&(t._moving=!1)}),i.addEventListener("mousemove",function(e){var i=t.getTypeInfo(e),n=t._types[i.type],o=t._types[t._currentType];if(t._moving&&o.handle)o.handle(e),t.draw();else if(n.cursor){var s=t._container.style.cursor;s!==n.cursor&&(t._container.style.cursor=n.cursor)}})}},{key:"getTypeInfo",value:function(t){var e=[t.offsetX,t.offsetY],i=e[0],o=e[1],s=this.getPoint(),r=this._cropper,a=this._image,h={};return i>s.x&&i<s.x+s.width&&o>s.y&&o<s.y+s.height?(h.offsetX=i-s.x,h.offsetY=o-s.y,h.type=n.pointRD):i>r.x&&i<r.x+r.width&&o>r.y&&o<r.y+r.height?(h.offsetX=i-r.x,h.offsetY=o-r.y,h.type=n.cropper):i>a.x&&i<a.x+a.width&&o>a.y&&o<a.y+a.height?(h.offsetX=i-a.x,h.offsetY=o-a.y,h.type=n.image):h.type=n.background,h}},{key:"getPoint",value:function(){var t=this._cropper,e=this._pointWidth,i=this._pointHeight;return{width:e,height:i,x:t.x+t.width-e/2,y:t.y+t.height-i/2}}},{key:"fillBackground",value:function(){var t=this._ctx,e=this._width,i=this._height,n=e/40,o=Math.ceil(e/n),s=Math.ceil(i/n);t.save(),t.fillStyle="#ccc";for(var r=0,a=0;a<s;a++)for(var h=0;h<o;h++)(r+a)%2==0&&t.fillRect(h*n,a*n,n,n),r++;t.fillStyle="rgba(0,0,0,0.1)",t.fillRect(0,0,e,i),t.restore()}},{key:"fillImage",value:function(){var t=this._ctx,e=this._image;e&&t.drawImage(e.element,e.x,e.y,e.width,e.height)}},{key:"fillCropper",value:function(){if(this._image.element){var t=this._ctx,e=this._cropper;t.save(),t.strokeStyle="#39f",t.lineWidth=this._lineWidth,t.strokeRect(e.x,e.y,e.width,e.height),t.fillStyle="#39f";var i=this.getPoint();t.fillRect(i.x,i.y,i.width,i.height),t.restore()}}},{key:"getCropperData",value:function(){var t=this._image,e=this._cropper,i=[e.x,e.y,e.height,e.width],n=i[0],o=i[1],s=i[2],r=i[3],a=0,h=0;if(e.x<t.x&&(n=t.x,a=t.x-e.x,r-=a),e.y<t.y&&(o=t.y,h=t.y-e.y,s-=h),e.x+e.width>t.x+t.width&&(r-=e.x+e.width-(t.x+t.width)),e.y+e.height>t.y+t.height&&(s-=e.y+e.height-(t.y+t.height)),!(r<0||s<0))return{width:r,height:s,x:n,y:o,offsetX:a,offsetY:h,imageData:this._ctx.getImageData(n,o,r,s)}}},{key:"draw",value:function(){this._ctx.clearRect(0,0,this._width,this._height),this.fillImage(),this.preview(),this._ctx.clearRect(0,0,this._width,this._height),this.fillBackground(),this.fillImage(),this.fillCropper()}},{key:"crop",value:function(){if(!this._image.element)return void console.error("请添加一张图片");this._ctx.clearRect(0,0,this._width,this._height),this.fillImage();var t=this.getCropperData();if(t){var e=document.createElement("canvas"),i=e.getContext("2d");return a()(e,{width:this._cropper.width,height:this._cropper.height}),i.putImageData(t.imageData,t.offsetX,t.offsetY),this.draw(),e}}},{key:"resetImage",value:function(t){if(!t){if(!this._image.element)return;t=this._image.element}if(t.src){var e=t.width,i=t.height,n=this._width,o=this._height,s=n/3,r=o/3,h=e,c=i,u=1;e>n&&(h=n,u=h/e,c=u*i),c>o&&(c=o,u=c/i,h=u*e),a()(this._image,{element:t,width:h,height:c,x:(n-h)/2,y:(o-c)/2}),this._scale=u,this.setCropper(s,r)}}},{key:"setImage",value:function(t){var e=this;if(t instanceof HTMLImageElement)this.resetImage(t);else{if(!(t instanceof File))return;t.type.match(/^image\/.+$/)||console.error("请选择正确的图片文件");var i=new FileReader;this._image={},i.onload=function(t){var i=new Image;i.src=t.target.result,i.onload=function(){e.resetImage(i)}},i.readAsDataURL(t)}}},{key:"setPreview",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this._cropper;if(this._hasPreview){var i=[this._width,this._height],n=i[0],o=i[1];t&&(e.x=n/2-e.width/2,e.y=o/2-e.height/2),this._previewScaleCanvas&&a()(this._previewScaleCanvas,{width:e.width,height:e.height}),this._previewList.forEach(function(t){a()(t.canvas,{width:e.width*t.scale,height:e.height*t.scale})})}}},{key:"setCropper",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];a()(this._cropper,{width:t,height:e}),this.setPreview(i),this.draw()}},{key:"previewScale",set:function(t){this.setPreview(),this.draw()}}]),t}()},kdNR:function(t,e,i){"use strict";var n=i("Dd8w"),o=i.n(n),s=i("Gu7T"),r=i.n(s),a=i("7+uW"),h=i("/ocq"),c=i("G2oq"),u=i("mB74"),l=i("ERc4"),d=i("gC63"),f=i("uest"),p=i("/wTy");a.a.use(h.a);var v=function(t){return t.charAt(0).toLowerCase()+t.slice(1).replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})},m=[{name:"Clock",component:u.a},{name:"ColorPicker",component:l.a},{name:"Cropper",component:d.a},{name:"InfiniteScroll",component:f.a},{name:"Snake",component:p.a}];e.a=new h.a({routes:[{path:"/",redirect:"/clock"}].concat(r()(m.map(function(t){return o()({path:"/"+v(t.name)},t)})),[{path:"*",name:"NotFound",component:c.a}])})},lnC8:function(t,e,i){"use strict";e.a=function(t,e){var i=null;return function(){for(var n=arguments.length,o=Array(n),s=0;s<n;s++)o[s]=arguments[s];i&&clearTimeout(i),i=setTimeout(function(){t.apply(void 0,o)},e)}}},mB74:function(t,e,i){"use strict";for(var n=i("woOf"),o=i.n(n),s=i("MICi"),r=i.n(s),a=i("BcO5"),h=i("DKtG"),c=i("xh2i"),u=(i.n(c),function(){var t=new Date;return{hours:t.getHours(),minutes:t.getMinutes(),seconds:t.getSeconds(),offset:60*-(new Date).getTimezoneOffset()*1e3}}),l=[{name:"hours",label:"小时",max:23},{name:"minutes",label:"分钟",max:59},{name:"seconds",label:"秒",max:59}],d=[],f=-12;f<=12;f++){var p="UTC";f>0?p+="+"+f:f<0&&(p+=f),d.push({name:p,offset:60*f*60*1e3})}d.sort(function(t,e){return e.offset-t.offset}),e.a={name:"Clock",data:function(){return{time:u(),alarms:[]}},render:function(){var t=this,e=arguments[0];return e("div",{class:"clock"},[e("section",[e("canvas",{ref:"canvas"})]),e("section",[e("form",{class:"clock__time-from",on:{submit:function(e){e.preventDefault(),t.setTime()}}},[l.map(function(i){return e("div",{class:"form-group"},[e("label",{attrs:{for:i.name}},[i.label,"："]),e("input",{attrs:{type:"number",max:i.max,min:"0",step:"1"},domProps:{value:t.time[i.name]},on:{input:function(e){t.updateInput(e,i)}}})])}),e("div",{class:"form-group"},[e("label",{attrs:{for:"offset"}},["时区："]),e("select",{domProps:{value:this.time.offset},on:{change:this.updateZone}},[d.map(function(t){return e("option",{key:t.name,domProps:{value:t.offset}},[t.name])})])])])]),e("section",[e("div",{class:"clock__btns"},[e("button",{attrs:{type:"button"},on:{click:this.setTime}},["设置时间"]),e("button",{attrs:{type:"button"},on:{click:this.addAlarm}},["设置闹钟"]),e("button",{attrs:{type:"button"},on:{click:this.clearAlarms}},["清除闹钟"]),e("button",{attrs:{type:"button"},on:{click:this.resetClock}},["还原时钟"])])]),e("section",[e("div",{class:"clock__alarms"},[!this.alarms||this.alarms.length<1?e("p",["暂无闹钟"]):this.alarms.map(function(t,i){return e("p",{key:i},["闹铃时间：",t.time.toLocaleString()])})])])])},methods:{updateInput:function(t,e){var i=Number(t.target.value),n=i;(r()(i)||i<0)&&(n=0),n>e.max&&(n=e.max),this.time[e.name]=n},updateZone:function(t){var e=Number(t.target.value),i=this.getTimezoneOffsetMilliSeconds(e);this.time.offset=e,this.$_clock.offset=i},getTimezoneOffsetMilliSeconds:function(t){return t+60*(new Date).getTimezoneOffset()*1e3},setTime:function(){var t=this.$_clock,e=new Date,i=this.getFormTime(),n=i.getTime()-e.getTime()+this.getTimezoneOffsetMilliSeconds(this.time.offset);t.offset=n},addAlarm:function(){var t=this.$_clock,e=this.getFormTime();t.addAlarm(e,this.triggerAlarm,!1),this.alarms=t.alarms},clearAlarms:function(){this.$_clock.clearAlarms(),this.alarms=[]},getFormTime:function(){var t=new Date,e=[t.getFullYear(),t.getMonth(),t.getDate()],i=e[0],n=e[1],o=e[2],s=this.time,r=s.hours,a=s.minutes,h=s.seconds;return new Date(i,n,o,r,a,h)},triggerAlarm:function(){var t=this.$_clock;this.alarms=t.alarms,Object(h.c)("闹钟响啦...")},resetClock:function(){var t=this.$_clock;o()(this.time,u()),t.offset=0}},mounted:function(){this.$_clock=new a.a(this.$refs.canvas)}}},opwO:function(t,e,i){"use strict";var n=i("woOf"),o=i.n(n),s=i("Zrlr"),r=i.n(s),a=i("wxAW"),h=i.n(a),c=i("Apwk"),u=i("QSz+"),l=i("zOqJ"),d=(i.n(l),function(){function t(e,i){r()(this,t);var n={height:300,blockWidth:300,barWidth:40,padding:10};o()(n,i),this._options=n,this._container=e,this.init()}return h()(t,[{key:"init",value:function(){var t=this,e=this._options,i=(e.padding,e.height),n=e.blockWidth,o=e.barWidth,s=(e.onColorChange,document.createElement("canvas")),r=document.createElement("canvas"),a={width:n,height:i,onColorChange:function(e){var i=e.s,n=e.v;t.setHSV({s:i,v:n})}},h={width:o,height:i,onColorChange:function(e){var i=e.h;t.setHSV({h:i})}};this._container.appendChild(s),this._container.appendChild(r),this._block=new c.a(s,a),this._bar=new u.a(r,h),this.setHSV({h:0,s:.5,v:.5})}},{key:"handleColorChange",value:function(t){if("number"==typeof t.h&&(this._bar.color=t),"number"==typeof t.s&&"number"==typeof t.v&&(this._block.color=t),this._options.onColorChange){var e=t.h,i=100*t.s,n=100*t.v,o=l.hsv.rgb(e,i,n),s=l.rgb.hsl(o).map(function(t){return t/100}),r=l.rgb.hex(o);this._options.onColorChange({hex:r,h:s[0],s:s[1],l:s[2],r:o[0],g:o[1],b:o[2]})}}},{key:"setHSV",value:function(t){var e=this;if(this._bar&&this._block){t=o()({},this._color,t);var i=["h","s","v"];this._color&&i.every(function(i){return t[i]===e._color[i]})||(this._color=t,this.handleColorChange(t))}}},{key:"color",set:function(t){var e=["r","g","b"],i=["h","s","l"],n=void 0;if(e.every(function(e){return"number"==typeof t[e]}))n=l.rgb.hsv(t.r,t.g,t.b);else if(i.every(function(e){return"number"==typeof t[e]}))n=l.hsl.hsv(100*t.h,100*t.s,100*t.l);else{if(!t.hex)return;n=l.rgb.hsv(l.hex.rgb(t.hex))}this.setHSV({h:n[0],s:n[1]/100,v:n[2]/100})}},{key:"block",get:function(){return this._block}},{key:"bar",get:function(){return this._bar}}]),t}());e.a=d},skhT:function(t,e,i){"use strict";i.d(e,"a",function(){return m});var n,o=i("woOf"),s=i.n(o),r=i("bOdI"),a=i.n(r),h=i("Zrlr"),c=i.n(h),u=i("wxAW"),l=i.n(u),d=i("MQob"),f=i("DKtG");!function(t){t[t.empty=0]="empty",t[t.wall=1]="wall",t[t.body=2]="body",t[t.head=3]="head",t[t.footer=4]="footer",t[t.food=5]="food"}(n||(n={}));var p;!function(t){t[t.left=0]="left",t[t.right=1]="right",t[t.up=2]="up",t[t.down=3]="down"}(p||(p={}));var v;!function(t){t[t.beforeStart=0]="beforeStart",t[t.end=1]="end",t[t.pause=2]="pause",t[t.runing=3]="runing",t[t.disabled=4]="disabled"}(v||(v={}));var m=function(){function t(e,i){var o,r,h=this;c()(this,t),this._boxes=[],this._speed=1,this._boxTypes=(o={},a()(o,n.empty,{}),a()(o,n.wall,{background:"brown"}),a()(o,n.head,{background:"#555",render:function(t,e,i,n){var o=n/14,s=h._direction[h._snakeDirection],r=n/2,a=[{x:e+r+s.x*o*3+(0===s.x?2.5*o:0),y:i+r+s.y*o*3+(0===s.y?2.5*o:0)},{x:e+r+s.x*o*3+(0===s.x?2.5*-o:0),y:i+r+s.y*o*3+(0===s.y?2.5*-o:0)}];t.fillStyle="#fff",a.forEach(function(e){t.beginPath(),t.arc(e.x,e.y,2*o,0,2*Math.PI),t.fill()})}}),a()(o,n.body,{render:function(t,e,i,n){t.fillStyle="#888",t.beginPath(),t.arc(e+n/2,i+n/2,n/2,0,2*Math.PI),t.fill()}}),a()(o,n.footer,{render:function(t,e,i,n){t.fillStyle="#888",t.beginPath(),t.arc(e+n/2,i+n/2,.35*n,0,2*Math.PI),t.fill()}}),a()(o,n.food,{background:"orange"}),o),this._direction=(r={},a()(r,p.left,{x:-1,y:0,keyCode:[65,37],opposite:p.right}),a()(r,p.right,{x:1,y:0,keyCode:[68,39],opposite:p.left}),a()(r,p.up,{x:0,y:-1,keyCode:[87,38],opposite:p.down}),a()(r,p.down,{x:0,y:1,keyCode:[83,40],opposite:p.up}),r),this.handleKeyboard=function(t){var e=h._direction,i=t.keyCode,n=h._status;switch(i){case 32:switch(t.preventDefault(),n){case v.pause:h.continue();break;case v.runing:h.pause()}}for(var o in e)e[o].keyCode.indexOf(i)>-1&&(t.preventDefault(),n===v.runing?h._keys.push(+o):n===v.beforeStart&&(h._keys.push(+o),h.start()))},this.next=function(){if(h._status===v.runing){h.updateDirection();var t=h._speed>30?1:300-10*h._speed,e=h._snake,i=h._direction[h._snakeDirection],o=h._content,s=e[0],r=e[e.length-1],a=s.xIndex+i.x,c=s.yIndex+i.y,u=h.getBox(a,c);if(u&&a>=0&&a<o.colums&&c>=0&&c<o.rows){var l=[h.createTween(s,u,t)],d=function(){var t=!0;switch(e.forEach(function(t){delete t.animateX,delete t.animateY}),u.type){case n.empty:r.type=n.empty,e.pop();break;case n.food:var i=h.eat(u);void 0===i||i||(t=!1);break;default:return}e.unshift(u),h.updateSnake(),t&&h._status===v.runing&&h.next(),h.draw()},f=function t(e){var i=!0;l.forEach(function(t){t.update(),i&&!t.complete&&(i=!1)}),h.draw(),i?(h._animation=null,d()):h.updateAnimation(l,t)};if(u.type===n.body||u.type===n.footer)return h.draw(),void h.endGame("1001");if(u.type===n.wall)return h.draw(),void h.endGame("1002");for(var p=1,m=e.length;p<m;p++){var g=e[p],_=e[p-1];l.push(h.createTween(g,_,t))}h.updateAnimation(l,f)}else h.endGame("1003")}};var u={sideLength:18},l=Object(f.b)(e,i,{width:600,height:600});if(s()(u,i,{width:l.width,height:l.height}),!u.origin){u.origin=[];for(var d=6;d>2;d--)u.origin.push({x:d,y:4})}var m=u.sideLength,g=u.width%m/2,_=u.height%m/2,y=u.width-2*_,w=u.height-2*g;this._content={x:_,y:g,width:y,height:w,rows:y/m,colums:w/m},this._canvas=l.canvas,this._options=u,this.init()}return l()(t,[{key:"init",value:function(){var t=this._options,e=this._canvas,i=e.getContext("2d"),o=this._content,s=t.sideLength;this._ctx=i;for(var r=0;r<o.colums;r++){for(var a=[],h=0;h<o.rows;h++)a.push({x:o.x+r*s,y:o.y+h*s,xIndex:r,yIndex:h,type:n.empty});this._boxes.push(a)}this.reset(),this.drawMap(),this._status=v.disabled,document.addEventListener("keydown",this.handleKeyboard)}},{key:"getBox",value:function(t,e){var i=this._boxes,n=i[t];if(n)return n[e]}},{key:"info",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,i=this._ctx,n=this._options,o=this._content;i.save(),i.fillStyle="rgba(0,0,0,.6)",i.fillRect(o.x,o.y,o.width,o.height),i.fillStyle="#fff",i.textAlign="center",i.textBaseline="middle",i.font="bold "+e+"px serif",Array.isArray(t)||(t=[t]),t.forEach(function(t,s){i.fillText(t,.5*n.width,.4*n.height+n.sideLength*e*1.1*s,o.width-2*n.sideLength)}),i.restore()}},{key:"drawBox",value:function(t){var e=this._boxTypes,i=this._ctx,n=this._options.sideLength,o=e[t.type],s=t.animateX?t.animateX:t.x,r=t.animateY?t.animateY:t.y;o.background&&(i.save(),i.fillStyle=o.background,i.fillRect(s,r,n,n),i.restore()),o.render&&(i.save(),o.render(i,s,r,n),i.restore())}},{key:"drawMap",value:function(){var t=this._options,e=this._ctx,i=this._content,n=t.sideLength;e.save(),e.beginPath(),e.strokeStyle="#ddd",e.lineWidth=1;for(var o=0;o<=i.colums;o++){var s=i.x+o*n;e.moveTo(s,i.y),e.lineTo(s,i.y+i.height)}for(var r=0;r<=i.rows;r++){var a=i.y+r*n;e.moveTo(i.x,a),e.lineTo(i.x+i.width,a)}e.stroke(),e.restore()}},{key:"drawContent",value:function(){var t=this;this._ctx.save(),this._food.forEach(function(e){t.drawBox(e)}),this._boxes.forEach(function(e){e.forEach(function(e){e.type!==n.food&&t.drawBox(e)})}),this._ctx.restore()}},{key:"draw",value:function(){var t=this._options;this._ctx.clearRect(0,0,t.width,t.height),this.drawMap(),this.drawContent()}},{key:"updateAnimation",value:function(t,e){this._animation={cb:e,id:requestAnimationFrame(e),tweens:t}}},{key:"createTween",value:function(t,e,i){return new d.a({x:t.x,y:t.y,onUpdate:function(e){s()(t,{animateX:e.x,animateY:e.y})}}).to({x:e.x,y:e.y},i).start()}},{key:"updateDirection",value:function(){var t=this._keys,e=t.length;if(e>0)for(var i=e-1;i>=0;i--){var n=t[i];if(n!==this._snakeDirection&&n!==this._direction[this._snakeDirection].opposite){this._snakeDirection=n,this._keys=t.slice(i+1);break}}}},{key:"updateSnake",value:function(){var t=this._snake;t.forEach(function(t){t.type=n.body}),t[0].type=n.head,t[t.length-1].type=n.footer}},{key:"reset",value:function(){var t=this;this._status=v.beforeStart,this._food=[],this._wall=[],this._keys=[],this._snakeDirection=p.right,this._boxes.forEach(function(t){t.forEach(function(t){t.type=n.empty})}),this._snake=this._options.origin.map(function(e){return t.getBox(e.x,e.y)}),this.updateSnake(),this.createFood()}},{key:"start",value:function(){this._status=v.runing,this.draw(),this.next()}},{key:"pauseGame",value:function(t){var e=this;this._status===v.runing&&(this._animation?(cancelAnimationFrame(this._animation.id),t()):requestAnimationFrame(function(){e.pauseGame(t)}))}},{key:"pause",value:function(){var t=this;this.pauseGame(function(){t._status=v.pause,t.info("Pause")})}},{key:"continue",value:function(){this._status===v.pause&&(this._animation?(this._animation.tweens.forEach(function(t){t.complete||t.start()}),this._status=v.runing,this.updateAnimation(this._animation.tweens,this._animation.cb)):this.continue())}},{key:"eat",value:function(t){var e=this.score,i=this._food;if(this._food=i.splice(i.indexOf(t)),this.createFood(),this._options.scoreCallback)return this._options.scoreCallback(e,this.speed,this)}},{key:"endGame",value:function(e){this._options.endCallback&&this._options.endCallback({code:Number(e),message:t.EndReasons[e]},this),this._status=v.end}},{key:"createFood",value:function(){var t=this._content,e=Math.floor(Math.random()*t.colums),i=Math.floor(Math.random()*t.rows),o=this.getBox(e,i);return o.type!==n.empty?this.createFood():(o.type=n.food,this._food.push(o),o)}},{key:"nextLevel",value:function(t){var e=this;this.pauseGame(function(){e.info(t),e._status=v.end})}},{key:"fillWall",value:function(t){for(var e=this._content,i=0;i<t;){var o=this.getBox(Math.floor(Math.random()*e.colums),Math.floor(Math.random()*e.rows));o.type===n.empty&&(o.type=n.wall,this._wall.push(o),i++)}}},{key:"disable",value:function(){var t=this,e=this._status;return this._status=v.disabled,function(){t._status=e}}},{key:"prepareStart",value:function(){this.reset(),this.draw()}},{key:"speed",set:function(t){this._speed=t},get:function(){return this._speed}},{key:"score",get:function(){return this._snake&&this._snake.length?this._snake.length-this._options.origin.length+1:0}}]),t}();m.EndReasons={1001:"红烧蛇肉",1002:"撞墙啦",1003:"撞边界啦"}},tfLI:function(t,e){},uest:function(t,e,i){"use strict";var n=i("//Fk"),o=i.n(n),s=i("A7y6"),r=i("zqfU"),a=(i.n(r),new Array(100).fill("").map(function(t,e){return e+1}));e.a={name:"InfiniteScroll",render:function(){var t=arguments[0];return t("main",{class:"infinite-scroll"},[t("ul",{ref:"list",class:"infinite-scroll__list"})])},mounted:function(){this.$_infiniteScroll=new s.a({contentElement:this.$refs.list,loadingHtml:'\n        <p class="infinite-scroll__loading">\n          <svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n            <path d="M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z" />\n            <path d="M0 0h24v24H0z" fill="none" />\n          </svg>\n        </p>\n      ',noDataHtml:"<p>Empty</p>",render:function(t){return"<li>"+t+" list item</li>"},getDataset:function(t){return new o.a(function(e){setTimeout(function(){e({dataset:a.slice(t,t+20),more:t+20<a.length})},1e3)})}})}}},wgND:function(t,e,i){"use strict";var n=i("EpNZ");i.n(n)},x35b:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(i("wgND"),i("7+uW")),o=i("iUeW"),s=i("kdNR");n.a.config.productionTip=!1,new n.a({el:"#app",router:s.a,render:function(t){return t(o.a)}})},xh2i:function(t,e){},zqfU:function(t,e){}},["x35b"]);
//# sourceMappingURL=app.dc51bc51df0ad60b9470.js.map